{"version":3,"sources":["dataHandler/store/reducers/sessionReducer.js","dataHandler/store/reducers/userReducer.js","dataHandler/store/reducers/libraryReducer.js","dataHandler/store/reducers/uiReducer.js","dataHandler/store/reducers/playerReducer.js","dataHandler/store/reducers/rootReducer.js","dataHandler/store/store.js","dataHandler/store/actions/axios.js","dataHandler/store/actions/spotify.js","dataHandler/store/actions/libraryActions.js","components/hoc/playerHoc.jsx","components/trackCover/trackCover.jsx","components/songsPlayer/components/detailsSection.jsx","components/hoc/uiHoc.jsx","components/hoc/statusHoc.jsx","components/songsPlayer/components/controlButton.jsx","components/songsPlayer/components/songsControl.jsx","components/songsPlayer/components/songSider.jsx","components/songsPlayer/components/volumeSider.jsx","components/songsPlayer/components/volumeControl.jsx","components/songsPlayer/songsPlayer.jsx","components/footer/footer.jsx","components/spotify/webPlayback.jsx","components/trackTable/queueButton.jsx","components/trackTable/TrackTable.jsx","pages/hostroom.jsx","pages/userroom.jsx","pages/landing.jsx","dataHandler/clients/backend.js","pages/loading.jsx","pages/userLoading.jsx","app.js","index.js"],"names":["sessionReducer","state","action","type","token","deviceId","id","initialState","user","display_name","display_picture","userReducer","fetchUserError","playlistReducer","containsCurrent","contains","data","includes","view","modal","uiReducer","mode","playerReducer","status","combineReducers","libraryReducer","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","instance","axios","create","baseURL","headers","setActiveDevice","put","device_ids","play","setDeviceId","setStatus","nextSong","post","previousSong","playSong","context","offset","context_uri","position","playTracks","tracks","uris","pauseSong","seekSong","ms","containsCurrentSong","dispatch","a","get","response","ComposedComponent","PlayerHoc","render","props","playContext","nextProps","playing","this","prevProps","currentSong","other","linked_from","Component","connect","track_window","current_track","trackPosition","paused","bindActionCreators","withPlayer","src","trackCover","album","images","url","className","style","float","paddingRight","class","alt","width","size","height","padding","withUiActions","UiHoc","StatusHoc","currentUri","uri","withStatus","artists","length","songName","map","artist","i","onClick","onArtistClick","split","name","button","icon","songsControl","shuffle","shuffleActive","playBtn","repeatContext","repeatActive","SliderBar","value","Object","assign","borderRadius","top","bottom","left","SliderHandle","transform","transition","marginTop","marginLeft","ProgressBar","isEnabled","direction","Direction","HORIZONTAL","numSeconds","cursor","duration","volumeClass","aria-hidden","VolumeControl","volume","previous","clicked","changeVolume","Math","round","onOff","setState","prevState","onOn","onChange","onChangeEnd","toSeconds","duration_ms","ids","background","zIndex","footer","deviceSelectedInterval","webPlaybackInstance","playerName","handleState","clearStatePolling","waitForDeviceToBeSelected","Promise","resolve","setInterval","getCurrentState","then","clearInterval","statePollingInterval","setupWebPlaybackEvents","Player","Spotify","getOAuthToken","callback","access_token","userAccessToken","on","e","console","log","device_id","useEffect","onSpotifyWebPlaybackSDKReady","init","children","QueueButton","useState","songuri","roomKey","setRoomKey","setAccess_token","Button","color","variant","config","method","Authorization","catch","error","queueUpSong","useStyles","makeStyles","theme","root","paper","marginBottom","spacing","table","minWidth","visuallyHidden","border","clip","margin","overflow","TrackTable","classes","host","rows","setRows","wsUrl","roomIp","WebSocket","onmessage","message","reduce","accumulator","currentValue","newRow","join","push","formatRows","JSON","parse","Container","Paper","TableContainer","Table","aria-labelledby","aria-label","TableBody","row","index","TableRow","tabIndex","TableCell","align","Hostroom","defaults","common","localStorage","setItem","Userroom","React","Landing","login","customer","redirect_uri","querystring","stringify","response_type","client_id","scope","fixed","title","href","backendUrl","createRoom","reject","timeout","addCustomer","roomIpAddress","getRooms","Loading","username","setRoomIp","initRoom","to","UserLoading","isAddedToRoom","setAddedToRoom","rooms","setRooms","getRoomKeys","noValidate","TextField","event","target","label","addCustomerToRoom","App","hashParams","r","q","location","hash","substring","exec","decodeURIComponent","getHashParams","ThemeProvider","createMuiTheme","palette","primary","main","secondary","contrastText","path","ReactDOM","configureStore","document","getElementById"],"mappings":"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","file":"static/js/main.34a098da.chunk.js","sourcesContent":["export const sessionReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'SET_TOKEN':\n      return {\n        ...state,\n        token: action.token\n      };\n    case 'SET_DEVICE_ID':\n      return {\n        ...state,\n        deviceId: action.id\n      };\n    default:\n      return state;\n  }\n};\n\nexport default sessionReducer;\n","const initialState = {\n  user: {\n    id: null,\n    display_name: null,\n    display_picture: null\n  }\n};\nexport const userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'FETCH_USER_SUCCESS':\n      return {\n        ...state,\n        user: action.user,\n        fetchUserError: false\n      };\n\n    case 'FETCH_USER_ERROR':\n      return {\n        ...state,\n        fetchUserError: true\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","export const playlistReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'CONTAINS_CURRENT_SUCCESS':\n      return {\n        ...state,\n        containsCurrent: action.contains.data.includes(true)\n      };\n    default:\n      return state;\n  }\n};\n\nexport default playlistReducer;\n","const initialState = {\n  view: 'browse',\n  modal: false\n};\n\nexport const uiReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_NEW_VIEW':\n      return {\n        ...state,\n        view: action.view\n      };\n    case 'SET_MODAL':\n      return {\n        ...state,\n        modal: action.modal,\n        mode: action.mode\n      };\n    default:\n      return state;\n  }\n};\n\nexport default uiReducer;\n","export const playerReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'FETCH_STATUS_SUCCESS':\n      return {\n        ...state,\n        status: action.status\n      };\n    default:\n      return state;\n  }\n};\n\nexport default playerReducer;\n","import { combineReducers } from 'redux';\n\nimport sessionReducer from './sessionReducer';\nimport userReducer from './userReducer';\nimport libraryReducer from './libraryReducer';\nimport uiReducer from './uiReducer';\nimport playerReducer from './playerReducer';\n\nexport default combineReducers({\n  sessionReducer,\n  userReducer,\n  libraryReducer,\n  uiReducer,\n  playerReducer\n});\n","import { createStore, compose, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers/rootReducer\";\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n\nexport default store;\n","import axios from 'axios';\n\nconst path = 'https://api.spotify.com/v1';\n\nconst instance = axios.create({\n  baseURL: path,\n  headers: {}\n});\nexport default instance;\n","import axios from './axios';\n\nexport const setToken = token => {\n  axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n  localStorage.setItem('token', token);\n  return {\n    type: 'SET_TOKEN',\n    token\n  };\n};\n\nexport const setActiveDevice = id => {\n  axios.put('/me/player', { device_ids: [id], play: false });\n  return { type: 'SET_DEVICE' };\n};\n\nexport const setDeviceId = id => {\n  return {\n    type: 'SET_DEVICE_ID',\n    id\n  };\n};\n\nexport const setStatus = status => {\n  return {\n    type: 'FETCH_STATUS_SUCCESS',\n    status\n  };\n};\n\nexport const nextSong = () => {\n  axios.post('/me/player/next');\n  return {\n    type: 'CHANGE_SONG'\n  };\n};\n\nexport const previousSong = () => {\n  axios.post('/me/player/previous');\n  return {\n    type: 'CHANGE_SONG'\n  };\n};\n\nexport const playSong = (context = false, offset) => {\n  if (context && offset) {\n    axios.put('/me/player/play', {\n      context_uri: context,\n      offset: { position: offset }\n    });\n  } else {\n    if (context) {\n      axios.put('/me/player/play', {\n        context_uri: context\n      });\n    } else {\n      axios.put('/me/player/play');\n    }\n  }\n  return {\n    type: 'PLAY_STATE'\n  };\n};\n//test gitlabbug\nexport const playTracks = (tracks, offset) => {\n  axios.put('/me/player/play', {\n    uris: tracks,\n    offset: { position: offset }\n  });\n  return {\n    type: 'PLAY_STATE'\n  };\n};\n\nexport const pauseSong = () => {\n  axios.put('/me/player/pause');\n  return {\n    type: 'PAUSE_STATE'\n  };\n};\n\nexport const seekSong = ms => {\n  axios.put(`/me/player/seek?position_ms=${ms}`);\n  return {\n    type: 'SEEK_SONG'\n  };\n};\n\nconst fetchUserSuccess = user => {\n  return {\n    type: 'FETCH_USER_SUCCESS',\n    user\n  };\n};\n\nconst fetchUserError = () => {\n  return {\n    type: 'FETCH_USER_ERROR'\n  };\n};\n\nexport const fetchUser = () => {\n  return async dispatch => {\n    try {\n      const response = await axios.get('/me');\n      dispatch(fetchUserSuccess(response.data));\n      return response.data;\n    } catch (error) {\n      dispatch(fetchUserError());\n      return error;\n    }\n  };\n};\n","import axios from './axios';\n\nconst containsSongSuccess = contains => {\n  return {\n    type: 'CONTAINS_CURRENT_SUCCESS',\n    contains: contains\n  };\n};\n\n\nexport const containsCurrentSong = id => {\n  return async dispatch => {\n    try {\n      const response = await axios.get(`/me/tracks/contains?ids=${id}`);\n      dispatch(containsSongSuccess(response, true));\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  };\n};\n\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport {nextSong, previousSong, pauseSong, playSong, seekSong} from '../../dataHandler/store/actions/spotify';\nimport { containsCurrentSong } from '../../dataHandler/store/actions/libraryActions';\n\nexport default function(ComposedComponent) {\n  class PlayerHoc extends Component {\n    shouldComponentUpdate(nextProps) {\n      return nextProps.playing || (this.props.playing && !nextProps.playing);\n    }\n\n    componentDidUpdate(prevProps) {\n      if (prevProps.currentSong.id !== this.props.currentSong.id) {\n        const id = this.props.currentSong.id;\n        const other = this.props.currentSong.linked_from\n          ? this.props.currentSong.linked_from.id\n          : null;\n        this.props.containsCurrentSong(other ? `${id},${other}` : id);\n      }\n    }\n\n    render = () => (\n      <ComposedComponent\n        {...this.props}\n        playContext={(context, offset) => this.props.playSong(context, offset)}\n        playSong={() => this.props.playSong()}\n      />\n    );\n  }\n//testbug\n  const mapStateToProps = state => {\n    return {\n      currentSong: state.playerReducer.status\n        ? state.playerReducer.status.track_window.current_track\n        : {},\n      contains: state.libraryReducer.containsCurrent ? true : false,\n      trackPosition: state.playerReducer.status\n        ? state.playerReducer.status.position\n        : 0,\n      playing: state.playerReducer.status\n        ? !state.playerReducer.status.paused\n        : false\n    };\n  };\n\n  const mapDispatchToProps = dispatch => {\n    return bindActionCreators(\n      {\n        nextSong,\n        previousSong,\n        pauseSong,\n        playSong,\n        seekSong,\n        containsCurrentSong\n      },\n      dispatch\n    );\n  };\n\n  return connect(mapStateToProps,mapDispatchToProps)(PlayerHoc);\n}\n","import React from \"react\";\nimport withPlayer from \"../../components/hoc/playerHoc\";\nimport \"./trackCover.css\";\n\nconst trackCover = (props) => {\n  let src;\n  if (props.trackCover) {\n    src = props.trackCover;\n  } else if (props.currentSong.album) {\n    src = props.currentSong.album.images[2].url;\n  } else {\n    src = \"\";\n  }\n\n  return props.currentSong.album || props.trackCover ? (\n    <div className=\"cover\" style={{ float: \"left\", paddingRight: \"10px\" }}>\n      <img\n        class=\"cover\"\n        alt=\"cover\"\n        style={{ width: props.size, height: props.size, padding: props.trackCover ? \"5px\": \"\" }}\n        src={src}\n      />\n    </div>\n  ) : null;\n};\n\nexport default withPlayer(trackCover);\n","import React from \"react\";\n\nimport withUiActions from \"../../hoc/uiHoc\";\nimport withStatus from \"../../hoc/statusHoc\";\nimport TrackCover from \"../../trackCover/trackCover\";\n\nfunction detailsSection(props) {\n  const artists = props.artists.length;\n  return (\n    <div className=\"details-section\">\n      <TrackCover size={\"56px\"} />\n      <div className=\"details-section-song-name\">\n        <p>{props.songName}</p>\n      </div>\n      <div className=\"details-section-artist-name\">\n        {props.artists.map((artist, i) => (\n          <span key={i}>\n            <span\n              key={i}\n              className=\"artist\"\n              onClick={() => props.onArtistClick(artist.uri.split(\":\")[2])}\n            >\n              {artist.name}\n            </span>\n            {i + 1 !== artists ? \", \" : \"\"}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default withUiActions(withStatus(detailsSection));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nexport default function(ComposedComponent) {\n  class UiHoc extends Component {\n\n    render = () => (\n      <ComposedComponent\n        {...this.props}\n      />\n    );\n  }\n  return connect(null)(UiHoc);\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport {playSong, pauseSong, playTracks} from '../../dataHandler/store/actions/spotify';\nimport {containsCurrentSong} from '../../dataHandler/store/actions/libraryActions';\n\nexport default function(ComposedComponent) {\n  class StatusHoc extends Component {\n    render = () => <ComposedComponent {...this.props} />;\n  }\n\n  const mapStateToProps = state => {\n    return {\n      currentUri: state.playerReducer.status\n        ? state.playerReducer.status.context.uri\n        : null,\n      currentSong: state.playerReducer.status\n        ? state.playerReducer.status.track_window.current_track.linked_from\n            .id || state.playerReducer.status.track_window.current_track.id\n        : null,\n      playing: state.playerReducer.status\n        ? !state.playerReducer.status.paused\n        : false\n    };\n  };\n\n  const mapDispatchToProps = dispatch => {\n    return bindActionCreators(\n      {\n        pauseSong,\n        playSong,\n        playTracks,\n        containsCurrentSong,\n          },\n      dispatch\n    );\n  };\n\n  return connect(mapStateToProps,mapDispatchToProps)(StatusHoc);\n}\n","import React from 'react';\n\nconst button = props => (\n  <div className={'control-btn ' + props.className} onClick={props.onClick}>\n    <i className={'fa ' + props.icon} />\n  </div>\n);\n\nexport default button;\n","import React from \"react\";\n\nimport Button from \"./controlButton\";\n\nfunction songsControl(props) {\n  return (\n    <div className=\"song-control\">\n      <Button\n        onClick={() => props.shuffle(!props.shuffleActive)}\n        className={\"shuffle-song\" + (props.shuffleActive ? \" active\" : \"\")}\n        icon=\"fa-random\"\n      />\n      <Button\n        className=\"back-song\"\n        icon=\"fa-step-backward reverse\"\n        onClick={props.previousSong}\n      />\n      <Button\n        className=\"play-btn\"\n        onClick={props.playing ? props.pauseSong : props.playSong}\n        icon={\n          \"play-btn \" +\n          (props.playing ? \"fa-pause-circle-o\" : \"fa-play-circle-o\")\n        }\n        playBtn\n      />\n      <Button\n        className=\"next-song\"\n        icon=\"fa-step-forward forward\"\n        onClick={props.nextSong}\n      />\n      <Button\n        onClick={() =>\n          props.repeatContext(props.repeatActive ? \"off\" : \"context\")\n        }\n        className={\"repeat-song\" + (props.repeatActive ? \" active\" : \"\")}\n        icon=\"fa-retweet\"\n      />\n    </div>\n  );\n}\n\nexport default songsControl;\n","import React from 'react';\nimport { Direction, Slider, FormattedTime } from 'react-player-controls';\n\nconst SliderBar = ({ value, style, className }) => (\n  <div\n    className={className}\n    style={Object.assign(\n      {},\n      {\n        position: 'absolute',\n        borderRadius: 4\n      },\n      {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        width: `${value * 100}%`\n      },\n      style\n    )}\n  />\n);\n\nconst SliderHandle = ({ value, style, className }) => (\n  <div\n    className={className}\n    style={Object.assign(\n      {},\n      {\n        position: 'absolute',\n        width: 10,\n        height: 10,\n        borderRadius: '100%',\n        transform: 'scale(1)',\n        transition: 'transform 0.2s',\n        '&:hover': {\n          transform: 'scale(1.3)'\n        }\n      },\n      {\n        top: 0,\n        left: `${value * 100}%`,\n        marginTop: -3,\n        marginLeft: -8\n      },\n      style\n    )}\n  />\n);\n\n// A composite progress bar component\nconst ProgressBar = ({\n  isEnabled,\n  direction = Direction.HORIZONTAL,\n  value,\n  ...props\n}) => (\n  <div className=\"song-sider-container\">\n    <FormattedTime numSeconds={props.position} />\n    <Slider\n      isEnabled={isEnabled}\n      direction={direction}\n      className=\"song-sider\"\n      style={{\n        cursor: 'pointer'\n      }}\n      {...props}\n    >\n      <SliderBar\n        className=\"position-sider\"\n        direction={direction}\n        value={value}\n      />\n      <SliderHandle\n        className=\"handler-sider\"\n        direction={direction}\n        value={value}\n      />\n    </Slider>\n    <FormattedTime numSeconds={props.duration || 0} />\n  </div>\n);\n\nexport default ProgressBar;\n","import React from 'react';\nimport { Direction, Slider } from 'react-player-controls';\n\nconst SliderBar = ({ value, style, className }) => (\n  <div\n    className={className}\n    style={Object.assign(\n      {},\n      {\n        position: 'absolute',\n        borderRadius: 4\n      },\n      {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        width: `${value * 100}%`\n      },\n      style\n    )}\n  />\n);\n\nconst SliderHandle = ({ value, style, className }) => (\n  <div\n    className={className}\n    style={Object.assign(\n      {},\n      {\n        position: 'absolute',\n        width: 10,\n        height: 10,\n        borderRadius: '100%',\n        transform: 'scale(1)',\n        transition: 'transform 0.2s',\n        '&:hover': {\n          transform: 'scale(1.3)'\n        }\n      },\n      {\n        top: 0,\n        left: `${value * 100}%`,\n        marginTop: -3,\n        marginLeft: -8\n      },\n      style\n    )}\n  />\n);\n\nconst ProgressBar = ({\n  isEnabled,\n  direction = Direction.HORIZONTAL,\n  value,\n  ...props\n}) => {\n  const volumeClass =\n    value > 0.5\n      ? 'fa-volume-up'\n      : value === 0\n        ? 'fa-volume-off'\n        : 'fa-volume-down';\n  return (\n    <div className=\"volume-sider-container\">\n      <i\n        onClick={props.onClick}\n        className={'volumen fa ' + volumeClass}\n        aria-hidden=\"true\"\n      />\n      <Slider\n        isEnabled={isEnabled}\n        direction={direction}\n        className=\"volume-sider\"\n        style={{\n          cursor: 'pointer'\n        }}\n        {...props}\n      >\n        <SliderBar\n          className=\"position-sider\"\n          direction={direction}\n          value={value}\n        />\n        <SliderHandle\n          className=\"handler-sider\"\n          direction={direction}\n          value={value}\n        />\n      </Slider>\n    </div>\n  );\n};\n\nexport default ProgressBar;\n","import React, { Component } from 'react';\n\nimport axios from '../../../dataHandler/store/actions/axios';\nimport VolumeSider from './volumeSider';\n\nclass VolumeControl extends Component {\n  state = {\n    volume: 1,\n    previous: 1,\n    clicked: false\n  };\n\n  changeVolume = value => {\n    axios.put(`/me/player/volume?volume_percent=${Math.round(value * 100)}`);\n  };\n\n  onOff = () => {\n    this.setState(prevState => {\n      return { volume: 0, previous: prevState.volume, clicked: true };\n    });\n    this.changeVolume(0);\n  };\n\n  onOn = () => {\n    this.setState(prevState => {\n      return { volume: prevState.previous, clicked: false };\n    });\n    this.changeVolume(this.state.previous);\n  };\n\n  onClick = () => {\n    if (!this.state.clicked) {\n      this.onOff();\n    } else {\n      if (this.state.volume === 0) {\n        this.onOn();\n      } else {\n        this.setState({ clicked: false });\n      }\n    }\n  };\n\n  render = () => (\n    <div className=\"volume-control-container\">\n      <VolumeSider\n        value={this.state.volume}\n        onClick={this.onClick}\n        onChange={value => {\n          this.setState({ volume: value });\n        }}\n        onChangeEnd={value => {\n          this.setState({ volume: value });\n          this.changeVolume(value);\n        }}\n      />\n    </div>\n  );\n}\n\nexport default VolumeControl;\n","import React from \"react\";\n\nimport \"./songsPlayer.css\";\n\nimport DetailSection from \"./components/detailsSection\";\nimport SongsControl from \"./components/songsControl\";\nimport SongSider from \"./components/songSider\";\nimport VolumeControl from \"./components/volumeControl\";\nimport withPlayer from \"../hoc/playerHoc\";\n\nfunction SongsPlayer(props) {\n  function toSeconds(ms) {\n    return ms / 1000;\n  }\n\n  const position = toSeconds(props.trackPosition) || 0;\n  const duration = props.currentSong\n    ? toSeconds(props.currentSong.duration_ms)\n    : 1;\n\n  return (\n    <div className=\"player-container\">\n      {props.currentSong.id ? (\n        <DetailSection\n          ids={\n            props.currentSong.linked_from.id\n              ? `${props.currentSong.linked_from.id},${props.currentSong.id}`\n              : props.currentSong.id\n          }\n          contains={props.contains}\n          songName={props.currentSong.name || \"\"}\n          album={props.currentSong.album.uri.split(\":\")[2]}\n          artists={props.currentSong.artists || []}\n        />\n      ) : null}\n      <SongsControl {...props} />\n      <SongSider\n        isEnabled\n        value={position / duration}\n        position={position}\n        duration={duration}\n        onChange={(value) =>\n          props.seekSong(Math.round(value * duration * 1000))\n        }\n      />\n      <VolumeControl />\n    </div>\n  );\n}\n\nexport default withPlayer(SongsPlayer);\n","import React from 'react';\n\nimport SongPlayer from '../songsPlayer/songsPlayer';\n\nconst style = {\n  position: 'fixed',\n  width: '100%',\n  bottom: 0,\n  left: 0,\n  background: 'rgb(40, 40, 40)',\n  height: 80,\n  zIndex: 2000\n};\n\nconst footer = props => (\n  <div className=\"footer\" style={style}>\n    <SongPlayer />\n  </div>\n);\n\nexport default footer;\n","import React, { Fragment, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport {\n  setStatus,\n  setDeviceId,\n  setActiveDevice,\n} from \"../../dataHandler/store/actions/spotify\";\n\nfunction WebPlayback(props) {\n  const playerName = \"Alltunes App\";\n  const playerAutoConnect = true;\n  let statePollingInterval;\n  let deviceSelectedInterval;\n  let webPlaybackInstance;\n\n  async function handleState(state) {\n    if (state) {\n      props.setStatus(state);\n    } else {\n      clearStatePolling();\n      await waitForDeviceToBeSelected();\n    }\n  }\n\n  function waitForSpotify() {\n    return new Promise((resolve) => {\n      if (\"Spotify\" in window) {\n        resolve();\n      } else {\n        window.onSpotifyWebPlaybackSDKReady = () => {\n          resolve();\n        };\n      }\n    });\n  }\n\n  function waitForDeviceToBeSelected() {\n    return new Promise((resolve) => {\n      deviceSelectedInterval = setInterval(() => {\n        if (webPlaybackInstance) {\n          webPlaybackInstance.getCurrentState().then((state) => {\n            if (state !== null) {\n              clearInterval(deviceSelectedInterval);\n              resolve(state);\n            }\n          });\n        }\n      });\n    });\n  }\n\n  function clearStatePolling() {\n    clearInterval(statePollingInterval);\n  }\n\n  async function setupWebPlaybackEvents() {\n    let { Player } = window.Spotify;\n\n    webPlaybackInstance = new Player({\n      name: playerName,\n      getOAuthToken: async (callback) => {\n        if (typeof props.access_token !== \"undefined\") {\n          let userAccessToken = await props.access_token;\n          callback(userAccessToken);\n        }\n      },\n    });\n\n    webPlaybackInstance.on(\"initialization_error\", (e) => {\n      console.log(e);\n    });\n\n    webPlaybackInstance.on(\"authentication_error\", (e) => {\n      console.log(e);\n    });\n\n    webPlaybackInstance.on(\"account_error\", (e) => {\n      console.log(e);\n    });\n\n    webPlaybackInstance.on(\"playback_error\", (e) => {\n      console.log(e);\n    });\n\n    webPlaybackInstance.on(\"player_state_changed\", async (state) => {\n      await handleState(state);\n    });\n\n    webPlaybackInstance.on(\"ready\", (data) => {\n      props.setDeviceId(data.device_id);\n      props.setActiveDevice(data.device_id);\n    });\n\n    if (playerAutoConnect) {\n      webPlaybackInstance.connect();\n    }\n  }\n\n  function setupWaitingForDevice() {\n    return new Promise((resolve) => {\n      webPlaybackInstance.on(\"ready\", (data) => {\n        resolve(data);\n      });\n    });\n  }\n\n  useEffect(() => {\n    const init = async () => {\n      await waitForSpotify();\n      await setupWebPlaybackEvents();\n      await setupWaitingForDevice();\n      await waitForDeviceToBeSelected();\n    };\n    init()\n  }, []);\n\n  return <Fragment>{props.children}</Fragment>;\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    { setDeviceId, setActiveDevice, setStatus },\n    dispatch\n  );\n};\n\nexport default connect(null, mapDispatchToProps)(WebPlayback);\n","import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\n\nexport default function QueueButton(props) {\n  const [songuri] = useState(props.songuri);\n  const [roomKey, setRoomKey] = useState(props.roomKey);\n  const [access_token, setAccess_token] = useState(props.access_token);\n\n  useState(() => {\n    setAccess_token(props.access_token);\n  }, [props.access_token, access_token]);\n\n  useState(() => {\n    setRoomKey(props.roomKey);\n  }, [props.roomKey, roomKey]);\n\n  function queueUpSong() {\n    var config = {\n      method: \"post\",\n      url: `https://api.spotify.com/v1/me/player/queue/?uri=${songuri}`,\n      headers: {\n        Authorization: \"Bearer \" + access_token,\n      },\n    };\n\n    return axios(config)\n      .then(function (response) {\n        return response;\n      })\n      .catch(function (error) {\n        throw error;\n      });\n  }\n\n  return (\n    <Button\n      color=\"secondary\"\n      variant=\"contained\"\n      onClick={() => {\n        queueUpSong();\n      }}\n    >\n      Queue\n    </Button>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport QueueButton from \"../trackTable/queueButton\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Container } from \"@material-ui/core\";\nimport TrackCover from \"../trackCover/trackCover\";\nimport { io } from \"socket.io-client\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n}));\n\nexport default function TrackTable(props) {\n  const classes = useStyles();\n  const host = props.host;\n  // const wsUrl =\n  //   process.env.NODE_ENV == \"development\"\n  //     ? \"ws://localhost:8888\"\n  //     : \"ws://\" + props.roomIp;\n\n  const [roomKey, setRoomKey] = useState(props.roomKey);\n  const [access_token, setAccess_token] = useState(props.access_token);\n  const [rows, setRows] = useState([]);\n\n  useState(() => {\n    setAccess_token(props.access_token);\n  }, props.access_token);\n\n  useState(() => {\n    setRoomKey(props.roomKey);\n  }, props.roomKey);\n\n  useEffect(() => {\n    const wsUrl =\n      process.env.NODE_ENV == \"development\"\n        ? \"ws://localhost:8888\"\n        : \"ws://\" + props.roomIp;\n    const ws = new WebSocket(wsUrl);\n    ws.onmessage = (message) => {\n      try {\n        const tracks = formatRows(JSON.parse(message.data));\n        setRows(tracks);\n      } catch (e) {\n        // TODO: Make sure messages are always tracks.\n        console.log(e);\n      }\n    };\n  }, [props.roomIp]);\n\n  function formatRows(rows) {\n    return rows.reduce((accumulator, currentValue) => {\n      const newRow = {};\n      newRow.artists = currentValue.artists.join(\", \");\n      newRow.name = currentValue.name;\n      newRow.uri = currentValue.uri;\n      newRow.trackCover = currentValue.trackCover;\n      accumulator.push(newRow);\n      return accumulator;\n    }, []);\n  }\n\n  return (\n    <Container>\n      <Paper className={classes.paper}>\n        <TableContainer>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            aria-label=\"enhanced table\"\n          >\n            <TableBody>\n              {rows.map((row, index) => {\n                return (\n                  <TableRow tabIndex={-1} key={row.name}>\n                    <TableCell align=\"left\" padding={\"none\"}>\n                      <TrackCover\n                        trackCover={row.trackCover}\n                        size={\"75px\"}\n                      ></TrackCover>\n                    </TableCell>\n                    <TableCell align=\"left\">{row.artists}</TableCell>\n                    <TableCell align=\"left\">{row.name}</TableCell>\n                    {host ? (\n                      <TableCell padding=\"checkbox\">\n                        <div style={{ paddingRight: \"10px\" }}>\n                          <QueueButton\n                            songuri={row.uri}\n                            roomKey={roomKey}\n                            access_token={access_token}\n                          ></QueueButton>\n                        </div>\n                      </TableCell>\n                    ) : (\n                      <div></div>\n                    )}\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Container>\n  );\n}\n","import React, { useState } from \"react\";\nimport { setToken } from \"../dataHandler/store/actions/spotify\";\nimport Footer from \"../components/footer/footer\";\nimport WebPlaybackReact from \"../components/spotify/webPlayback\";\nimport TrackTable from \"../components/trackTable/TrackTable\";\nimport \"./style/hostroom.css\";\n\nexport default function Hostroom(props) {\n  const [playerLoaded, setPlayerLoaded] = useState(false);\n  const [access_token, setAccess_token] = useState(props.access_token);\n  const [roomKey, setRoomKey] = useState(props.roomKey);\n\n  useState(() => {\n    setAccess_token(props.access_token);\n    setToken(props.access_token);\n  }, props.access_token);\n\n  useState(() => {\n    setRoomKey(props.roomKey);\n  }, props.roomKey);\n\n  return (\n    <div class=\"main\">\n      <WebPlaybackReact access_token={access_token}>\n        <Footer />\n      </WebPlaybackReact>\n      <br></br>\n      <TrackTable\n        roomIp={props.roomIp}\n        host={true}\n        access_token={access_token}\n        roomKey={roomKey}\n      ></TrackTable>\n    </div>\n  );\n}\n","import React from 'react';\nimport TrackTable from '../components/trackTable/TrackTable'\nimport './style/room.css';\n\nclass Userroom extends React.Component {\n  render() {\n    return (\n      <section>\n        <div class=\"main\">\n        <TrackTable></TrackTable>\n\n        </div>\n        \n      </section>\n    );\n  }\n}\n\nexport default Userroom;","import React from \"react\";\nimport querystring from \"querystring\";\nimport \"./style/landing.css\";\nimport Container from \"@material-ui/core/Container\";\n\nvar client_id = \"aeedb64c42db49bf8413aab94c44637c\"; // Your client id\nvar scope =\n  \"streaming user-read-private user-read-email user-read-playback-state user-modify-playback-state user-library-modify user-top-read\";\n\nconst url = process.env.NODE_ENV == 'development' ? \"http://localhost:3000\" : \"http://34.77.48.74:3000\"\n\nexport default function Landing(props) {\n  function login(customer) {\n    var redirect_uri;\n    if (customer === \"host\") {\n      redirect_uri = `${url}/loading/`;\n    } else {\n      redirect_uri = `${url}/userloading/`;\n    }\n    var redirect =\n      \"https://accounts.spotify.com/authorize?\" +\n      querystring.stringify({\n        response_type: \"token\",\n        client_id: client_id,\n        scope: scope,\n        redirect_uri: redirect_uri,\n      });\n    return redirect;\n  }\n\n  return (\n    <Container fixed>\n      <div id=\"titleText\" title=\"titleText\" className=\"titleText\">\n        AllTunes\n      </div>\n      <div className=\"button_cont\">\n        <a type=\"button\" className=\"buttoncss\" href={login(\"host\")}>\n          Host a room\n        </a>\n        <a type=\"button\" className=\"buttoncss\" href={login(\"joiner\")}>\n          Join a room\n        </a>\n      </div>\n    </Container>\n  );\n}","import axios from \"axios\";\n\nconst backendUrl =\n  process.env.NODE_ENV == \"development\"\n    ? \"http://localhost:8888/room\"\n    : \"http://35.187.88.243:8000/room\";\n\n/**\n * @param {String} host.token\n * @param {String} host.username\n */\nexport async function createRoom(host) {\n  let response = () => {\n    return new Promise(function (resolve, reject) {\n      var config = {\n        timeout: \"90000\",\n        method: \"post\",\n        url: backendUrl,\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        data: JSON.stringify(host),\n      };\n\n      return axios(config)\n        .then(function (response) {\n          resolve(response.data);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    });\n  };\n  return response();\n}\n\n/**\n * @param {String} host.token\n * @param {String} host.username\n */\nexport async function addCustomer(customer, roomIpAddress) {\n  var config = {\n    method: \"put\",\n    baseURL: roomIpAddress + \"/room\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    data: JSON.stringify(customer),\n  };\n  console.log(config);\n\n  return axios(config)\n    .then(function (response) {\n      return response;\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n\n/**\n * @returns {Object} A mapping of room keys and their addresses\n */\nexport async function getRooms(customer) {\n  let response = () => {\n    return new Promise(function (resolve, reject) {\n      var config = {\n        method: \"get\",\n        url: backendUrl,\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        data: JSON.stringify(customer),\n      };\n\n      return axios(config)\n        .then(function (response) {\n          resolve(response.data);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    });\n  };\n  return response();\n}\n","import React, { useEffect, useState } from \"react\";\nimport { createRoom } from \"../dataHandler/clients/backend\";\nimport \"./style/loading.css\";\nimport { Redirect } from \"react-router-dom\";\n\nexport default function Loading(props) {\n  const [roomKey, setRoomKey] = useState();\n\n  useEffect(() => {\n    async function initRoom() {\n      const host = {\n        token: props.access_token,\n        username: \"kevin\",\n      };\n      if (host.token && host.username) {\n        const data = await createRoom(host);\n        setRoomKey(data.roomKey);\n        props.setRoomIp(data.roomIp);\n      }\n    }\n    initRoom();\n  }, [props.access_token]);\n\n  return roomKey ? (\n    <Redirect\n      to={`/hostroom/#roomKey=${roomKey}&access_token=${props.access_token}`}\n    ></Redirect>\n  ) : (\n    <div class={\"loadingText\"}>\n      The page is loading, you will be redirected shortly!\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { addCustomer, getRooms } from \"../dataHandler/clients/backend\";\nimport { Redirect } from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport \"./style/userLoading.css\";\n\nexport default function UserLoading(props) {\n  const [isAddedToRoom, setAddedToRoom] = useState(false);\n  const [roomKey, setRoomKey] = useState();\n  const [rooms, setRooms] = useState();\n\n  useEffect(() => {\n    getRoomKeys();\n  }, rooms);\n\n  async function getRoomKeys() {\n    const rooms = await getRooms();\n    console.log(rooms);\n    setRooms(rooms);\n  }\n\n  async function addCustomerToRoom() {\n    try {\n      if (rooms[roomKey]) {\n        await addCustomer(\n          { token: props.access_token, username: \"james\" },\n          rooms[roomKey]\n        );\n        setAddedToRoom(true);\n      } else {\n        getRoomKeys();\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  if (isAddedToRoom) {\n    return (\n      <Redirect\n        to={`/userroom/#roomKey=${roomKey}&access_token=${props.access_token}`}\n      ></Redirect>\n    );\n  } else {\n    return (\n      <form noValidate id={\"form\"}>\n        <TextField\n          onChange={(event) => {\n            setRoomKey(event.target.value);\n          }}\n          id=\"standard-basic\"\n          label=\"Room Key\"\n          color=\"primary\"\n        />\n        <Button\n          onClick={() => {\n            addCustomerToRoom();\n          }}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Join Room\n        </Button>\n      </form>\n    );\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Hostroom from \"./pages/hostroom\";\nimport Userroom from \"./pages/userroom\";\nimport Landing from \"./pages/landing\";\nimport Loading from \"./pages/loading\";\nimport UserLoading from \"./pages/userLoading\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\n\nexport default function App() {\n  const [access_token, setAccess_token] = useState();\n  const [roomKey, setRoomKey] = useState();\n  const [roomIp, setRoomIp] = useState();\n\n  function getHashParams() {\n    var hashParams = {};\n    var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n    e = r.exec(q);\n    while (e) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n      e = r.exec(q);\n    }\n    return hashParams;\n  }\n\n  useEffect(() => {\n    const hashParams = getHashParams();\n    setRoomKey(hashParams.roomKey);\n    setAccess_token(hashParams.access_token);\n  }, [roomKey, access_token]);\n\n  return (\n    <ThemeProvider\n      theme={createMuiTheme({\n        palette: {\n          type: \"dark\",\n          primary: { main: \"#121212\" },\n          secondary: { main: \"#1DB954\", contrastText: \"#FFFFFF\" },\n        },\n      })}\n    >\n      <Router>\n        {/* A <Switch> looks through its children <Route>s and\n              renders the first one that matches the current URL. */}\n        <Switch>\n          <Route path=\"/hostroom\">\n            <Hostroom access_token={access_token} roomKey={roomKey} roomIp={roomIp}/>\n          </Route>\n          <Route path=\"/loading\">\n            <Loading access_token={access_token} roomKey={roomKey} roomIp={roomIp} setRoomIp={setRoomIp}/>\n          </Route>\n          <Route path=\"/UserLoading\">\n            <UserLoading access_token={access_token} roomKey={roomKey} roomIp={roomIp}/>\n          </Route>\n          <Route path=\"/userroom\">\n            <Userroom access_token={access_token} roomKey={roomKey} roomIp={roomIp}/>\n          </Route>\n          <Route path=\"/\">\n            <Landing access_token={access_token} roomKey={roomKey} roomIp={roomIp}/>\n          </Route>\n        </Switch>\n      </Router>\n    </ThemeProvider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./dataHandler/store/store\";\nimport App from \"./app\";\n\nReactDOM.render(\n  <Provider store={configureStore}>\n    <App/>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}