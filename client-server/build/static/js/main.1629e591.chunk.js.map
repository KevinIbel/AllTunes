{"version":3,"sources":["dataHandler/store/reducers/sessionReducer.js","dataHandler/store/reducers/userReducer.js","dataHandler/store/reducers/libraryReducer.js","dataHandler/store/reducers/uiReducer.js","dataHandler/store/reducers/playerReducer.js","dataHandler/store/reducers/rootReducer.js","dataHandler/store/store.js","dataHandler/store/actions/axios.js","dataHandler/store/actions/spotify.js","dataHandler/store/actions/libraryActions.js","components/hoc/playerHoc.jsx","components/trackCover/trackCover.jsx","components/songsPlayer/components/detailsSection.jsx","components/hoc/uiHoc.jsx","components/hoc/statusHoc.jsx","components/songsPlayer/components/controlButton.jsx","components/songsPlayer/components/songsControl.jsx","components/songsPlayer/components/songSider.jsx","components/songsPlayer/components/volumeSider.jsx","components/songsPlayer/components/volumeControl.jsx","components/songsPlayer/songsPlayer.jsx","components/footer/footer.jsx","components/userDetails/userDetails.jsx","components/userSection/userSection.jsx","components/spotify/webPlayback.jsx","components/trackTable/queueButton.jsx","components/trackTable/TrackTable.jsx","pages/hostroom.jsx","pages/userroom.jsx","pages/landing.jsx","dataHandler/clients/backend.js","pages/loading.jsx","pages/userLoading.jsx","app.js","index.js"],"names":["sessionReducer","state","action","type","token","deviceId","id","initialState","user","display_name","display_picture","userReducer","fetchUserError","playlistReducer","containsCurrent","contains","data","includes","view","modal","uiReducer","mode","playerReducer","status","combineReducers","libraryReducer","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","instance","axios","create","baseURL","headers","setToken","defaults","common","localStorage","setItem","setActiveDevice","put","device_ids","play","setDeviceId","setStatus","nextSong","post","previousSong","playSong","context","offset","context_uri","position","playTracks","tracks","uris","pauseSong","seekSong","ms","containsCurrentSong","dispatch","a","get","response","ComposedComponent","PlayerHoc","render","props","playContext","nextProps","playing","this","prevProps","currentSong","other","linked_from","Component","connect","track_window","current_track","trackPosition","paused","bindActionCreators","withPlayer","src","trackCover","album","images","url","className","style","float","paddingRight","class","alt","width","size","height","padding","withUiActions","UiHoc","StatusHoc","currentUri","uri","withStatus","artists","length","songName","map","artist","i","name","button","onClick","icon","songsControl","shuffle","shuffleActive","playBtn","repeatContext","repeatActive","SliderBar","value","Object","assign","borderRadius","top","bottom","left","SliderHandle","transform","transition","marginTop","marginLeft","ProgressBar","isEnabled","direction","Direction","HORIZONTAL","numSeconds","cursor","duration","volumeClass","aria-hidden","VolumeControl","volume","previous","clicked","changeVolume","Math","round","onOff","setState","prevState","onOn","onChange","onChangeEnd","toSeconds","duration_ms","ids","split","background","zIndex","footer","header","img","color","makeStyles","theme","root","maxWidth","backgroundColor","palette","paper","right","overflowWrap","display","textAlign","textDecoration","userStyle","fontWeight","fontSize","thin","alignItems","flexWrap","InsetList","useState","userList","setUserList","useEffect","wsUrl","roomIp","WebSocket","onmessage","message","contents","JSON","parse","console","log","keys","values","userIds","userDisplayNames","Container","List","component","aria-label","uid","ListItem","Box","target","href","ListItemText","primary","indexOf","e","deviceSelectedInterval","webPlaybackInstance","playerName","handleState","clearStatePolling","waitForDeviceToBeSelected","Promise","resolve","setInterval","getCurrentState","then","clearInterval","statePollingInterval","setupWebPlaybackEvents","Player","Spotify","getOAuthToken","callback","access_token","userAccessToken","on","device_id","onSpotifyWebPlaybackSDKReady","init","children","QueueButton","songuri","roomKey","setRoomKey","setAccess_token","Button","variant","config","method","Authorization","catch","error","queueUpSong","useStyles","marginBottom","spacing","table","minWidth","visuallyHidden","border","clip","margin","overflow","TrackTable","classes","rows","setRows","reduce","accumulator","currentValue","newRow","join","push","formatRows","Paper","TableContainer","Table","aria-labelledby","TableBody","row","index","TableRow","tabIndex","TableCell","align","host","Hostroom","Useroom","Landing","login","customer","redirect_uri","querystring","stringify","response_type","client_id","scope","fixed","title","backendUrl","createRoom","reject","timeout","addCustomer","roomIpAddress","getRooms","Loading","username","hostid","setRoomIp","initRoom","to","UserLoading","isAddedToRoom","setAddedToRoom","rooms","setRooms","getRoomKeys","userid","noValidate","TextField","event","label","addCustomerToRoom","App","setDisplayName","setId","followId","setFollowId","hashParams","r","q","location","hash","substring","exec","decodeURIComponent","getHashParams","getUserData","followUser","ThemeProvider","createMuiTheme","main","secondary","contrastText","path","ReactDOM","configureStore","document","getElementById"],"mappings":"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","file":"static/js/main.1629e591.chunk.js","sourcesContent":["export const sessionReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'SET_TOKEN':\n      return {\n        ...state,\n        token: action.token\n      };\n    case 'SET_DEVICE_ID':\n      return {\n        ...state,\n        deviceId: action.id\n      };\n    default:\n      return state;\n  }\n};\n\nexport default sessionReducer;\n","const initialState = {\n  user: {\n    id: null,\n    display_name: null,\n    display_picture: null\n  }\n};\nexport const userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'FETCH_USER_SUCCESS':\n      return {\n        ...state,\n        user: action.user,\n        fetchUserError: false\n      };\n\n    case 'FETCH_USER_ERROR':\n      return {\n        ...state,\n        fetchUserError: true\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","export const playlistReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'CONTAINS_CURRENT_SUCCESS':\n      return {\n        ...state,\n        containsCurrent: action.contains.data.includes(true)\n      };\n    default:\n      return state;\n  }\n};\n\nexport default playlistReducer;\n","const initialState = {\n  view: 'browse',\n  modal: false\n};\n\nexport const uiReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_NEW_VIEW':\n      return {\n        ...state,\n        view: action.view\n      };\n    case 'SET_MODAL':\n      return {\n        ...state,\n        modal: action.modal,\n        mode: action.mode\n      };\n    default:\n      return state;\n  }\n};\n\nexport default uiReducer;\n","export const playerReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'FETCH_STATUS_SUCCESS':\n      return {\n        ...state,\n        status: action.status\n      };\n    default:\n      return state;\n  }\n};\n\nexport default playerReducer;\n","import { combineReducers } from 'redux';\n\nimport sessionReducer from './sessionReducer';\nimport userReducer from './userReducer';\nimport libraryReducer from './libraryReducer';\nimport uiReducer from './uiReducer';\nimport playerReducer from './playerReducer';\n\nexport default combineReducers({\n  sessionReducer,\n  userReducer,\n  libraryReducer,\n  uiReducer,\n  playerReducer\n});\n","import { createStore, compose, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers/rootReducer\";\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n\nexport default store;\n","import axios from 'axios';\n\nconst path = 'https://api.spotify.com/v1';\n\nconst instance = axios.create({\n  baseURL: path,\n  headers: {}\n});\nexport default instance;\n","import axios from './axios';\n\nexport const setToken = token => {\n  axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n  localStorage.setItem('token', token);\n  return {\n    type: 'SET_TOKEN',\n    token\n  };\n};\n\nexport const setActiveDevice = id => {\n  axios.put('/me/player', { device_ids: [id], play: false });\n  return { type: 'SET_DEVICE' };\n};\n\nexport const setDeviceId = id => {\n  return {\n    type: 'SET_DEVICE_ID',\n    id\n  };\n};\n\nexport const setStatus = status => {\n  return {\n    type: 'FETCH_STATUS_SUCCESS',\n    status\n  };\n};\n\nexport const nextSong = () => {\n  axios.post('/me/player/next');\n  return {\n    type: 'CHANGE_SONG'\n  };\n};\n\nexport const previousSong = () => {\n  axios.post('/me/player/previous');\n  return {\n    type: 'CHANGE_SONG'\n  };\n};\n\nexport const playSong = (context = false, offset) => {\n  if (context && offset) {\n    axios.put('/me/player/play', {\n      context_uri: context,\n      offset: { position: offset }\n    });\n  } else {\n    if (context) {\n      axios.put('/me/player/play', {\n        context_uri: context\n      });\n    } else {\n      axios.put('/me/player/play');\n    }\n  }\n  return {\n    type: 'PLAY_STATE'\n  };\n};\n//test gitlabbug\nexport const playTracks = (tracks, offset) => {\n  axios.put('/me/player/play', {\n    uris: tracks,\n    offset: { position: offset }\n  });\n  return {\n    type: 'PLAY_STATE'\n  };\n};\n\nexport const pauseSong = () => {\n  axios.put('/me/player/pause');\n  return {\n    type: 'PAUSE_STATE'\n  };\n};\n\nexport const seekSong = ms => {\n  axios.put(`/me/player/seek?position_ms=${ms}`);\n  return {\n    type: 'SEEK_SONG'\n  };\n};\n\nconst fetchUserSuccess = user => {\n  return {\n    type: 'FETCH_USER_SUCCESS',\n    user\n  };\n};\n\nconst fetchUserError = () => {\n  return {\n    type: 'FETCH_USER_ERROR'\n  };\n};\n\nexport const fetchUser = () => {\n  return async dispatch => {\n    try {\n      const response = await axios.get('/me');\n      dispatch(fetchUserSuccess(response.data));\n      return response.data;\n    } catch (error) {\n      dispatch(fetchUserError());\n      return error;\n    }\n  };\n};\n","import axios from './axios';\n\nconst containsSongSuccess = contains => {\n  return {\n    type: 'CONTAINS_CURRENT_SUCCESS',\n    contains: contains\n  };\n};\n\n\nexport const containsCurrentSong = id => {\n  return async dispatch => {\n    try {\n      const response = await axios.get(`/me/tracks/contains?ids=${id}`);\n      dispatch(containsSongSuccess(response, true));\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  };\n};\n\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport {nextSong, previousSong, pauseSong, playSong, seekSong} from '../../dataHandler/store/actions/spotify';\nimport { containsCurrentSong } from '../../dataHandler/store/actions/libraryActions';\n\nexport default function(ComposedComponent) {\n  class PlayerHoc extends Component {\n    shouldComponentUpdate(nextProps) {\n      return nextProps.playing || (this.props.playing && !nextProps.playing);\n    }\n\n    componentDidUpdate(prevProps) {\n      if (prevProps.currentSong.id !== this.props.currentSong.id) {\n        const id = this.props.currentSong.id;\n        const other = this.props.currentSong.linked_from\n          ? this.props.currentSong.linked_from.id\n          : null;\n        this.props.containsCurrentSong(other ? `${id},${other}` : id);\n      }\n    }\n\n    render = () => (\n      <ComposedComponent\n        {...this.props}\n        playContext={(context, offset) => this.props.playSong(context, offset)}\n        playSong={() => this.props.playSong()}\n      />\n    );\n  }\n//testbug\n  const mapStateToProps = state => {\n    return {\n      currentSong: state.playerReducer.status\n        ? state.playerReducer.status.track_window.current_track\n        : {},\n      contains: state.libraryReducer.containsCurrent ? true : false,\n      trackPosition: state.playerReducer.status\n        ? state.playerReducer.status.position\n        : 0,\n      playing: state.playerReducer.status\n        ? !state.playerReducer.status.paused\n        : false\n    };\n  };\n\n  const mapDispatchToProps = dispatch => {\n    return bindActionCreators(\n      {\n        nextSong,\n        previousSong,\n        pauseSong,\n        playSong,\n        seekSong,\n        containsCurrentSong\n      },\n      dispatch\n    );\n  };\n\n  return connect(mapStateToProps,mapDispatchToProps)(PlayerHoc);\n}\n","import React from \"react\";\nimport withPlayer from \"../../components/hoc/playerHoc\";\nimport \"./trackCover.css\";\n\nconst trackCover = (props) => {\n  let src;\n  if (props.trackCover) {\n    src = props.trackCover;\n  } else if (props.currentSong.album) {\n    src = props.currentSong.album.images[2].url;\n  } else {\n    src = \"\";\n  }\n\n  return props.currentSong.album || props.trackCover ? (\n    <div className=\"cover\" style={{ float: \"left\", paddingRight: \"10px\" }}>\n      <img\n        class=\"cover\"\n        alt=\"cover\"\n        style={{ width: props.size, height: props.size, padding: props.trackCover ? \"5px\": \"\" }}\n        src={src}\n      />\n    </div>\n  ) : null;\n};\n\nexport default withPlayer(trackCover);\n","import React from \"react\";\n\nimport withUiActions from \"../../hoc/uiHoc\";\nimport withStatus from \"../../hoc/statusHoc\";\nimport TrackCover from \"../../trackCover/trackCover\";\n\nfunction detailsSection(props) {\n  const artists = props.artists.length;\n  return (\n    <div className=\"details-section\">\n      <TrackCover size={\"56px\"} />\n      <div className=\"details-section-song-name\">\n        <p>{props.songName}</p>\n      </div>\n      <div className=\"details-section-artist-name\">\n        {props.artists.map((artist, i) => (\n          <span key={i}>\n            <span\n              key={i}\n              className=\"artist\"\n            >\n              {artist.name}\n            </span>\n            {i + 1 !== artists ? \", \" : \"\"}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default withUiActions(withStatus(detailsSection));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nexport default function(ComposedComponent) {\n  class UiHoc extends Component {\n\n    render = () => (\n      <ComposedComponent\n        {...this.props}\n      />\n    );\n  }\n  return connect(null)(UiHoc);\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport {playSong, pauseSong, playTracks} from '../../dataHandler/store/actions/spotify';\nimport {containsCurrentSong} from '../../dataHandler/store/actions/libraryActions';\n\nexport default function(ComposedComponent) {\n  class StatusHoc extends Component {\n    render = () => <ComposedComponent {...this.props} />;\n  }\n\n  const mapStateToProps = state => {\n    return {\n      currentUri: state.playerReducer.status\n        ? state.playerReducer.status.context.uri\n        : null,\n      currentSong: state.playerReducer.status\n        ? state.playerReducer.status.track_window.current_track.linked_from\n            .id || state.playerReducer.status.track_window.current_track.id\n        : null,\n      playing: state.playerReducer.status\n        ? !state.playerReducer.status.paused\n        : false\n    };\n  };\n\n  const mapDispatchToProps = dispatch => {\n    return bindActionCreators(\n      {\n        pauseSong,\n        playSong,\n        playTracks,\n        containsCurrentSong,\n          },\n      dispatch\n    );\n  };\n\n  return connect(mapStateToProps,mapDispatchToProps)(StatusHoc);\n}\n","import React from 'react';\n\nconst button = props => (\n  <div className={'control-btn ' + props.className} onClick={props.onClick}>\n    <i className={'fa ' + props.icon} />\n  </div>\n);\n\nexport default button;\n","import React from \"react\";\n\nimport Button from \"./controlButton\";\n\nfunction songsControl(props) {\n  return (\n    <div className=\"song-control\">\n      <Button\n        onClick={() => props.shuffle(!props.shuffleActive)}\n        className={\"shuffle-song\" + (props.shuffleActive ? \" active\" : \"\")}\n        icon=\"fa-random\"\n      />\n      <Button\n        className=\"back-song\"\n        icon=\"fa-step-backward reverse\"\n        onClick={props.previousSong}\n      />\n      <Button\n        className=\"play-btn\"\n        onClick={props.playing ? props.pauseSong : props.playSong}\n        icon={\n          \"play-btn \" +\n          (props.playing ? \"fa-pause-circle-o\" : \"fa-play-circle-o\")\n        }\n        playBtn\n      />\n      <Button\n        className=\"next-song\"\n        icon=\"fa-step-forward forward\"\n        onClick={props.nextSong}\n      />\n      <Button\n        onClick={() =>\n          props.repeatContext(props.repeatActive ? \"off\" : \"context\")\n        }\n        className={\"repeat-song\" + (props.repeatActive ? \" active\" : \"\")}\n        icon=\"fa-retweet\"\n      />\n    </div>\n  );\n}\n\nexport default songsControl;\n","import React from 'react';\nimport { Direction, Slider, FormattedTime } from 'react-player-controls';\n\nconst SliderBar = ({ value, style, className }) => (\n  <div\n    className={className}\n    style={Object.assign(\n      {},\n      {\n        position: 'absolute',\n        borderRadius: 4\n      },\n      {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        width: `${value * 100}%`\n      },\n      style\n    )}\n  />\n);\n\nconst SliderHandle = ({ value, style, className }) => (\n  <div\n    className={className}\n    style={Object.assign(\n      {},\n      {\n        position: 'absolute',\n        width: 10,\n        height: 10,\n        borderRadius: '100%',\n        transform: 'scale(1)',\n        transition: 'transform 0.2s',\n        '&:hover': {\n          transform: 'scale(1.3)'\n        }\n      },\n      {\n        top: 0,\n        left: `${value * 100}%`,\n        marginTop: -3,\n        marginLeft: -8\n      },\n      style\n    )}\n  />\n);\n\n// A composite progress bar component\nconst ProgressBar = ({\n  isEnabled,\n  direction = Direction.HORIZONTAL,\n  value,\n  ...props\n}) => (\n  <div className=\"song-sider-container\">\n    <FormattedTime numSeconds={props.position} />\n    <Slider\n      isEnabled={isEnabled}\n      direction={direction}\n      className=\"song-sider\"\n      style={{\n        cursor: 'pointer'\n      }}\n      {...props}\n    >\n      <SliderBar\n        className=\"position-sider\"\n        direction={direction}\n        value={value}\n      />\n      <SliderHandle\n        className=\"handler-sider\"\n        direction={direction}\n        value={value}\n      />\n    </Slider>\n    <FormattedTime numSeconds={props.duration || 0} />\n  </div>\n);\n\nexport default ProgressBar;\n","import React from 'react';\nimport { Direction, Slider } from 'react-player-controls';\n\nconst SliderBar = ({ value, style, className }) => (\n  <div\n    className={className}\n    style={Object.assign(\n      {},\n      {\n        position: 'absolute',\n        borderRadius: 4\n      },\n      {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        width: `${value * 100}%`\n      },\n      style\n    )}\n  />\n);\n\nconst SliderHandle = ({ value, style, className }) => (\n  <div\n    className={className}\n    style={Object.assign(\n      {},\n      {\n        position: 'absolute',\n        width: 10,\n        height: 10,\n        borderRadius: '100%',\n        transform: 'scale(1)',\n        transition: 'transform 0.2s',\n        '&:hover': {\n          transform: 'scale(1.3)'\n        }\n      },\n      {\n        top: 0,\n        left: `${value * 100}%`,\n        marginTop: -3,\n        marginLeft: -8\n      },\n      style\n    )}\n  />\n);\n\nconst ProgressBar = ({\n  isEnabled,\n  direction = Direction.HORIZONTAL,\n  value,\n  ...props\n}) => {\n  const volumeClass =\n    value > 0.5\n      ? 'fa-volume-up'\n      : value === 0\n        ? 'fa-volume-off'\n        : 'fa-volume-down';\n  return (\n    <div className=\"volume-sider-container\">\n      <i\n        onClick={props.onClick}\n        className={'volumen fa ' + volumeClass}\n        aria-hidden=\"true\"\n      />\n      <Slider\n        isEnabled={isEnabled}\n        direction={direction}\n        className=\"volume-sider\"\n        style={{\n          cursor: 'pointer'\n        }}\n        {...props}\n      >\n        <SliderBar\n          className=\"position-sider\"\n          direction={direction}\n          value={value}\n        />\n        <SliderHandle\n          className=\"handler-sider\"\n          direction={direction}\n          value={value}\n        />\n      </Slider>\n    </div>\n  );\n};\n\nexport default ProgressBar;\n","import React, { Component } from 'react';\n\nimport axios from '../../../dataHandler/store/actions/axios';\nimport VolumeSider from './volumeSider';\n\nclass VolumeControl extends Component {\n  state = {\n    volume: 1,\n    previous: 1,\n    clicked: false\n  };\n\n  changeVolume = value => {\n    axios.put(`/me/player/volume?volume_percent=${Math.round(value * 100)}`);\n  };\n\n  onOff = () => {\n    this.setState(prevState => {\n      return { volume: 0, previous: prevState.volume, clicked: true };\n    });\n    this.changeVolume(0);\n  };\n\n  onOn = () => {\n    this.setState(prevState => {\n      return { volume: prevState.previous, clicked: false };\n    });\n    this.changeVolume(this.state.previous);\n  };\n\n  onClick = () => {\n    if (!this.state.clicked) {\n      this.onOff();\n    } else {\n      if (this.state.volume === 0) {\n        this.onOn();\n      } else {\n        this.setState({ clicked: false });\n      }\n    }\n  };\n\n  render = () => (\n    <div className=\"volume-control-container\">\n      <VolumeSider\n        value={this.state.volume}\n        onClick={this.onClick}\n        onChange={value => {\n          this.setState({ volume: value });\n        }}\n        onChangeEnd={value => {\n          this.setState({ volume: value });\n          this.changeVolume(value);\n        }}\n      />\n    </div>\n  );\n}\n\nexport default VolumeControl;\n","import React from \"react\";\n\nimport \"./songsPlayer.css\";\n\nimport DetailSection from \"./components/detailsSection\";\nimport SongsControl from \"./components/songsControl\";\nimport SongSider from \"./components/songSider\";\nimport VolumeControl from \"./components/volumeControl\";\nimport withPlayer from \"../hoc/playerHoc\";\n\nfunction SongsPlayer(props) {\n  function toSeconds(ms) {\n    return ms / 1000;\n  }\n\n  const position = toSeconds(props.trackPosition) || 0;\n  const duration = props.currentSong\n    ? toSeconds(props.currentSong.duration_ms)\n    : 1;\n\n  return (\n    <div className=\"player-container\">\n      {props.currentSong.id ? (\n        <DetailSection\n          ids={\n            props.currentSong.linked_from.id\n              ? `${props.currentSong.linked_from.id},${props.currentSong.id}`\n              : props.currentSong.id\n          }\n          contains={props.contains}\n          songName={props.currentSong.name || \"\"}\n          album={props.currentSong.album.uri.split(\":\")[2]}\n          artists={props.currentSong.artists || []}\n        />\n      ) : null}\n      <SongsControl {...props} />\n      \n      <SongSider\n        isEnabled\n        value={position / duration}\n        position={position}\n        duration={duration}\n        onChange={(value) =>\n          props.seekSong(Math.round(value * duration * 1000))\n        }\n      />\n      <VolumeControl />\n    </div>\n  );\n}\n\nexport default withPlayer(SongsPlayer);\n","import React from 'react';\n\nimport SongPlayer from '../songsPlayer/songsPlayer';\n\n\n\nconst style = {\n  position: 'fixed',\n  width: '100%',\n  bottom: 0,\n  left: 0,\n  background: 'rgb(40, 40, 40)',\n  height: 80,\n  zIndex: 2000\n};\n\nconst footer = props => (\n  <div className=\"footer\" style={style}>\n    <SongPlayer />\n  </div>\n);\n\nexport default footer;\n","import React from 'react';\n\nimport './userDetails.css';\n\n//Pushing to master.\n\nconst header = props => (\n  <div className=\"details-container\">\n    <p className=\"user-name\">Currently Logged in as: {props.display_name}{props.img}</p>\n  </div>\n);\n\nexport default header;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { setToken } from \"../../dataHandler/store/actions/spotify\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport StarIcon from \"@material-ui/icons/Star\";\nimport UserDetails from \"../userDetails/userDetails\";\nimport { Container } from \"@material-ui/core\";\nimport { Box } from \"@material-ui/core\";\n\nconst header = {\n  color: \"rgb(30 215 96)\",\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\nconst style = {\n  height: \"100%\",\n  top: \"0px\",\n  right: \"0vw\",\n  position: \"fixed\",\n  overflowWrap: \"break-word\",\n  display: \"inline-block\",\n  color: \"rgb(30 215 96)\",\n  padding: \"15px\",\n  textAlign: \"center\",\n  background: \"rgb(40, 40, 40)\",\n  textDecoration: \"none\",\n};\n\nconst userStyle = {\n  textAlign: \"center\", // <-- the magic\n  fontWeight: \"bold\",\n  fontSize: 18,\n  marginTop: 0,\n  width: 200,\n};\nconst thin = {\n  display: \"flex\",\n  alignItems: \"center\",\n  flexWrap: \"wrap\",\n};\n\n//Pushing to master.\n\nexport default function InsetList(props) {\n  const [userList, setUserList] = useState([]);\n\n  useEffect(() => {\n    const wsUrl =\n      process.env.NODE_ENV == \"development\"\n        ? \"ws://localhost:8888\"\n        : \"ws://\" + props.roomIp;\n    const ws = new WebSocket(wsUrl);\n    // Only update the list when the message contains a user list.\n    ws.onmessage = (message) => {\n      try {\n        const contents = JSON.parse(message.data);\n        if (contents.type == \"userlist\") {\n          // Make and set the List of users to display.\n          console.log(\"message.data:\" + contents.data);\n          console.log(\"message.data keys:\" + Object.keys(contents.data));\n          console.log(\"message.data values:\" + Object.values(contents.data));\n          setUserList(\n            makeUserList(\n              Object.keys(contents.data),\n              Object.values(contents.data)\n            )\n          );\n        }\n      } catch (e) {\n        // If the message isn't a user list, the list isn't updated.\n        console.log(e);\n      }\n    };\n  }, [props.roomIp]);\n\n  function makeUserList(userIds, userDisplayNames) {\n    // The userlistObj has keys of ids, and values of display names.\n    return (\n      <Container>\n        <List component=\"nav\" style={style} aria-label=\"contacts\">\n          <h3 style={header}> Room Lobby</h3>\n          {userIds.map((uid) => {\n            return (\n              <ListItem>\n                {userIds[0] == uid ? (\n                  <div>\n                    <Box alignItems=\"center\" display=\"flex\">\n                      <StarIcon style={thin}></StarIcon>\n\n                      <a\n                        style={{\n                          thin,\n                          textDecoration: \"none\",\n                          color: \"rgb(30 215 96)\",\n                        }}\n                        button=\"true\"\n                        target=\"_blank\"\n                        href={\"https://open.spotify.com/user/\" + uid}\n                      >\n                        <ListItemText\n                          primary={userDisplayNames[userIds.indexOf(uid)]}\n                        >\n                          {\" \"}\n                        </ListItemText>\n                      </a>\n                      <StarIcon style={thin}></StarIcon>\n                    </Box>\n                  </div>\n                ) : (\n                  <div style={userStyle}>\n                    <a\n                      style={userStyle}\n                      style={{\n                        textDecoration: \"none\",\n                        color: \"rgb(30 215 96)\",\n                      }}\n                      button=\"true\"\n                      target=\"_blank\"\n                      href={\"https://open.spotify.com/user/\" + uid}\n                    >\n                      <ListItemText\n                        primary={userDisplayNames[userIds.indexOf(uid)]}\n                      ></ListItemText>\n                    </a>\n                  </div>\n                )}\n              </ListItem>\n            );\n          })}\n        </List>\n      </Container>\n    );\n  }\n\n  return <div>{userList}</div>;\n}\n","import React, { Fragment, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport {\n  setStatus,\n  setDeviceId,\n  setActiveDevice,\n} from \"../../dataHandler/store/actions/spotify\";\n\nfunction WebPlayback(props) {\n  const playerName = \"Alltunes App\";\n  const playerAutoConnect = true;\n  let statePollingInterval;\n  let deviceSelectedInterval;\n  let webPlaybackInstance;\n\n  async function handleState(state) {\n    if (state) {\n      props.setStatus(state);\n    } else {\n      clearStatePolling();\n      await waitForDeviceToBeSelected();\n    }\n  }\n\n  function waitForSpotify() {\n    return new Promise((resolve) => {\n      if (\"Spotify\" in window) {\n        resolve();\n      } else {\n        window.onSpotifyWebPlaybackSDKReady = () => {\n          resolve();\n        };\n      }\n    });\n  }\n\n  function waitForDeviceToBeSelected() {\n    return new Promise((resolve) => {\n      deviceSelectedInterval = setInterval(() => {\n        if (webPlaybackInstance) {\n          webPlaybackInstance.getCurrentState().then((state) => {\n            if (state !== null) {\n              clearInterval(deviceSelectedInterval);\n              resolve(state);\n            }\n          });\n        }\n      });\n    });\n  }\n\n  function clearStatePolling() {\n    clearInterval(statePollingInterval);\n  }\n\n  async function setupWebPlaybackEvents() {\n    let { Player } = window.Spotify;\n\n    webPlaybackInstance = new Player({\n      name: playerName,\n      getOAuthToken: async (callback) => {\n        if (typeof props.access_token !== \"undefined\") {\n          let userAccessToken = await props.access_token;\n          callback(userAccessToken);\n        }\n      },\n    });\n\n    webPlaybackInstance.on(\"initialization_error\", (e) => {\n      console.log(e);\n    });\n\n    webPlaybackInstance.on(\"authentication_error\", (e) => {\n      console.log(e);\n    });\n\n    webPlaybackInstance.on(\"account_error\", (e) => {\n      console.log(e);\n    });\n\n    webPlaybackInstance.on(\"playback_error\", (e) => {\n      console.log(e);\n    });\n\n    webPlaybackInstance.on(\"player_state_changed\", async (state) => {\n      await handleState(state);\n    });\n\n    webPlaybackInstance.on(\"ready\", (data) => {\n      props.setDeviceId(data.device_id);\n      props.setActiveDevice(data.device_id);\n    });\n\n    if (playerAutoConnect) {\n      webPlaybackInstance.connect();\n    }\n  }\n\n  function setupWaitingForDevice() {\n    return new Promise((resolve) => {\n      webPlaybackInstance.on(\"ready\", (data) => {\n        resolve(data);\n      });\n    });\n  }\n\n  useEffect(() => {\n    const init = async () => {\n      await waitForSpotify();\n      await setupWebPlaybackEvents();\n      await setupWaitingForDevice();\n      await waitForDeviceToBeSelected();\n    };\n    init()\n  }, []);\n\n  return <Fragment>{props.children}</Fragment>;\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    { setDeviceId, setActiveDevice, setStatus },\n    dispatch\n  );\n};\n\nexport default connect(null, mapDispatchToProps)(WebPlayback);\n","import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\n\nexport default function QueueButton(props) {\n  const [songuri] = useState(props.songuri);\n  const [roomKey, setRoomKey] = useState(props.roomKey);\n  const [access_token, setAccess_token] = useState(props.access_token);\n\n  useState(() => {\n    setAccess_token(props.access_token);\n  }, [props.access_token, access_token]);\n\n  useState(() => {\n    setRoomKey(props.roomKey);\n  }, [props.roomKey, roomKey]);\n\n  function queueUpSong() {\n    var config = {\n      method: \"post\",\n      url: `https://api.spotify.com/v1/me/player/queue/?uri=${songuri}`,\n      headers: {\n        Authorization: \"Bearer \" + access_token,\n      },\n    };\n\n    return axios(config)\n      .then(function (response) {\n        return response;\n      })\n      .catch(function (error) {\n        throw error;\n      });\n  }\n\n  return (\n    <Button\n      color=\"secondary\"\n      variant=\"contained\"\n      onClick={() => {\n        queueUpSong();\n      }}\n    >\n      Queue\n    </Button>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport QueueButton from \"../trackTable/queueButton\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Container } from \"@material-ui/core\";\nimport TrackCover from \"../trackCover/trackCover\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  paper: {\n    width: \"100%\",\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n}));\n\nexport default function TrackTable(props) {\n  console.log(props.roomIp)\n  const classes = useStyles();\n  const [roomKey, setRoomKey] = useState(props.roomKey);\n  const [access_token, setAccess_token] = useState(props.access_token);\n  const [rows, setRows] = useState([]);\n\n  useState(() => {\n    setAccess_token(props.access_token);\n  }, props.access_token);\n\n  useState(() => {\n    setRoomKey(props.roomKey);\n  }, props.roomKey);\n\n  useEffect(() => {\n    const wsUrl =\n      process.env.NODE_ENV == \"development\"\n        ? \"ws://localhost:8888\"\n        : \"ws://\" + props.roomIp;\n    const ws = new WebSocket(wsUrl);\n    // Only update the rows when the message contains tracks.\n    ws.onmessage = (message) => {\n      try {\n        const contents = JSON.parse(message.data);\n        if (contents.type == \"tracks\") {\n          setRows(formatRows(contents.data));\n        }\n      } catch (e) {\n        // If the message doesn't have tracks, the rows aren't updated.\n        console.log(e);\n      }\n    };\n  }, [props.roomIp]);\n\n  \n  function formatRows(rows) {\n    rows.length = 100;\n    return rows.reduce((accumulator, currentValue) => {\n      const newRow = {};\n      newRow.artists = currentValue.artists.join(\", \");\n      newRow.name = currentValue.name;\n      newRow.uri = currentValue.uri;\n      newRow.trackCover = currentValue.trackCover;\n      accumulator.push(newRow);\n      return accumulator;\n    }, []);\n  }\n\n  return (\n    <Container>\n      <Paper className={classes.paper}>\n        <TableContainer>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            aria-label=\"enhanced table\"\n          >\n            <TableBody\n          >\n              {rows.map((row, index) => {\n                return (\n                  <TableRow tabIndex={-1} key={row.name}>\n                    <TableCell align=\"left\" padding={\"none\"}>\n                      <TrackCover\n                        trackCover={row.trackCover}\n                        size={\"75px\"}\n                      ></TrackCover>\n                    </TableCell>\n                    <TableCell align=\"left\">{row.artists}</TableCell>\n                    <TableCell align=\"left\">{row.name}</TableCell>\n                    {props.host ? (\n                      <TableCell padding=\"checkbox\">\n                        <div style={{ paddingRight: \"10px\" }}>\n                          <QueueButton\n                            songuri={row.uri}\n                            roomKey={roomKey}\n                            access_token={access_token}\n                          ></QueueButton>\n                        </div>\n                      </TableCell>\n                    ) : (\n                      <div></div>\n                    )}\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Container>\n  );\n}\n","import React, { useState } from \"react\";\nimport { setToken } from \"../dataHandler/store/actions/spotify\";\nimport Footer from \"../components/footer/footer\";\nimport UserDetails from \"../components/userDetails/userDetails\";\nimport UserSection from \"../components/userSection/userSection\";\nimport WebPlaybackReact from \"../components/spotify/webPlayback\";\nimport TrackTable from \"../components/trackTable/TrackTable\";\nimport \"./style/hostroom.css\";\n//Pushing to master.\nexport default function Hostroom(props) {\n  const [playerLoaded, setPlayerLoaded] = useState(false);\n  const [access_token, setAccess_token] = useState(props.access_token);\n  const [roomKey, setRoomKey] = useState(props.roomKey);\n\n  useState(() => {\n    setAccess_token(props.access_token);\n    setToken(props.access_token);\n  }, props.access_token);\n\n  useState(() => {\n    setRoomKey(props.roomKey);\n  }, props.roomKey);\n\n  return (\n    <div class=\"main\">\n      <WebPlaybackReact access_token={access_token}>\n        <Footer />\n      </WebPlaybackReact>\n      <UserDetails\n        host={true}\n        access_token={access_token}\n        display_name={props.display_name}\n        roomKey={roomKey}\n      ></UserDetails>\n      <br></br>\n      <TrackTable\n        roomIp={props.roomIp}\n        host={true}\n        access_token={access_token}\n        roomKey={roomKey}\n      ></TrackTable>\n      <UserSection host={true} roomIp={props.roomIp}></UserSection>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { setToken } from \"../dataHandler/store/actions/spotify\";\nimport Footer from \"../components/footer/footer\";\nimport UserDetails from \"../components/userDetails/userDetails\";\nimport UserSection from \"../components/userSection/userSection\";\nimport WebPlaybackReact from \"../components/spotify/webPlayback\";\nimport TrackTable from \"../components/trackTable/TrackTable\";\nimport \"./style/room.css\";\n\nexport default function Useroom(props) {\n  const [playerLoaded, setPlayerLoaded] = useState(false);\n  const [access_token, setAccess_token] = useState(props.access_token);\n  const [roomKey, setRoomKey] = useState(props.roomKey);\n\n  useState(() => {\n    setAccess_token(props.access_token);\n    setToken(props.access_token);\n  }, props.access_token);\n\n  useState(() => {\n    setRoomKey(props.roomKey);\n  }, props.roomKey);\n\n  return (\n    <div class=\"main\">\n      <WebPlaybackReact access_token={access_token}></WebPlaybackReact>\n      <UserDetails host={true} display_name={props.display_name}></UserDetails>\n      <br></br>\n      <TrackTable roomIp={props.roomIp}></TrackTable>\n      <UserSection host={true}></UserSection>\n    </div>\n  );\n}\n","import React from \"react\";\nimport querystring from \"querystring\";\nimport \"./style/landing.css\";\nimport Container from \"@material-ui/core/Container\";\n//Pushing to master.\n\nvar client_id = \"aeedb64c42db49bf8413aab94c44637c\"; // Your client id\nvar scope =\n  \"streaming user-read-private user-read-email user-read-playback-state user-modify-playback-state user-library-modify user-top-read user-follow-modify\";\n\nconst url = process.env.NODE_ENV == 'development' ? \"http://localhost:3000\" : \"http://34.77.48.74:3000\"\n\nexport default function Landing(props) {\n  function login(customer) {\n    var redirect_uri;\n    if (customer === \"host\") {\n      redirect_uri = `${url}/loading/`;\n    } else {\n      redirect_uri = `${url}/userloading/`;\n    }\n    var redirect =\n      \"https://accounts.spotify.com/authorize?\" +\n      querystring.stringify({\n        response_type: \"token\",\n        client_id: client_id,\n        scope: scope,\n        redirect_uri: redirect_uri,\n      });\n    return redirect;\n  }\n\n  return (\n    <Container fixed>\n      <div id=\"titleText\" title=\"titleText\" className=\"titleText\">\n        AllTunes\n      </div>\n      <div className=\"button_cont\">\n        <a type=\"button\" className=\"buttoncss\" href={login(\"host\")}>\n          Host a room\n        </a>\n        <a type=\"button\" className=\"buttoncss\" href={login(\"joiner\")}>\n          Join a room\n        </a>\n      </div>\n    </Container>\n  );\n}","import axios from \"axios\";\n\nconst backendUrl =\n  process.env.NODE_ENV == \"development\"\n    ? \"http://localhost:8888/room\"\n    : \"http://35.187.88.243:8000/room\";\n\n/**\n * @param {String} host.token\n * @param {String} host.username\n */\nexport async function createRoom(host) {\n  let response = () => {\n    return new Promise(function (resolve, reject) {\n      var config = {\n        timeout: \"90000\",\n        method: \"post\",\n        url: backendUrl,\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        data: JSON.stringify(host),\n      };\n\n      return axios(config)\n        .then(function (response) {\n          resolve(response.data);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    });\n  };\n  return response();\n}\n\n/**\n * @param {String} host.token\n * @param {String} host.username\n */\nexport async function addCustomer(customer, roomIpAddress) {\n  var config = {\n    method: \"put\",\n    baseURL:\n      process.env.NODE_ENV == \"development\"\n        ? \"http://localhost:8888/room\"\n        : \"http://\" + roomIpAddress + \"/room\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    data: JSON.stringify(customer),\n  };\n  console.log(config);\n\n  return axios(config)\n    .then(function (response) {\n      return response;\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n\n/**\n * @returns {Object} A mapping of room keys and their addresses\n */\nexport async function getRooms(customer) {\n  let response = () => {\n    return new Promise(function (resolve, reject) {\n      var config = {\n        method: \"get\",\n        url: backendUrl,\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        data: JSON.stringify(customer),\n      };\n\n      return axios(config)\n        .then(function (response) {\n          resolve(response.data);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    });\n  };\n  return response();\n}\n","import React, { useEffect, useState } from \"react\";\nimport { createRoom } from \"../dataHandler/clients/backend\";\nimport \"./style/loading.css\";\nimport { Redirect } from \"react-router-dom\";\n//Pushing to master.\n\nexport default function Loading(props) {\n  const [roomKey, setRoomKey] = useState();\n\n  useEffect(() => {\n    if (props.access_token && props.display_name && props.id) {\n      async function initRoom() {\n        const host = {\n          token: props.access_token,\n          username: props.display_name,\n          hostid: props.id,\n        };\n\n        if (host.token && host.username) {\n          let data = await createRoom(host);\n          if (process.env.NODE_ENV == \"development\") {\n            data = { roomKey: \"00000000\" };\n          }\n          setRoomKey(data.roomKey);\n          props.setRoomIp(data.roomIp);\n        }\n      }\n      initRoom();\n    }\n  }, [props.access_token, props.display_name, props.id]);\n\n  return roomKey ? (\n    <Redirect\n      to={`/hostroom/#roomKey=${roomKey}&access_token=${props.access_token}`}\n    ></Redirect>\n  ) : (\n    <div class={\"loadingText\"}>\n      The page is loading, you will be redirected shortly!\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { addCustomer, getRooms } from \"../dataHandler/clients/backend\";\nimport { Redirect } from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport \"./style/userLoading.css\";\n//Pushing to master.\n\nexport default function UserLoading(props) {\n  const [isAddedToRoom, setAddedToRoom] = useState(false);\n  const [roomKey, setRoomKey] = useState();\n  const [rooms, setRooms] = useState();\n\n  useEffect(() => {\n    getRoomKeys();\n  }, rooms);\n\n  async function getRoomKeys() {\n    if ((process.env.NODE_ENV == \"development\")) {\n      const rooms = {};\n      rooms[roomKey] = \"http://localhost:8888\";\n      setRooms({ roomKey: \"http://localhost:8888\" });\n    } else {\n      setRooms(await getRooms());\n    }\n  }\n\n  async function addCustomerToRoom() {\n    try {\n      if (rooms[roomKey]) {\n        await addCustomer(\n          {\n            token: props.access_token,\n            username: props.display_name,\n            userid: props.id,\n          },\n          rooms[roomKey]\n        );\n        setAddedToRoom(true);\n        props.setRoomIp(rooms[roomKey]);\n      } else {\n        getRoomKeys();\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  if (isAddedToRoom) {\n    return (\n      <Redirect\n        to={`/userroom/#roomKey=${roomKey}&access_token=${props.access_token}`}\n      ></Redirect>\n    );\n  } else {\n    return (\n      <form noValidate id={\"form\"}>\n        <TextField\n          onChange={(event) => {\n            setRoomKey(event.target.value);\n          }}\n          id=\"standard-basic\"\n          label=\"Room Key\"\n          color=\"primary\"\n        />\n        <Button\n          onClick={() => {\n            addCustomerToRoom();\n          }}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Join Room\n        </Button>\n      </form>\n    );\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Hostroom from \"./pages/hostroom\";\nimport Userroom from \"./pages/userroom\";\nimport Landing from \"./pages/landing\";\nimport Loading from \"./pages/loading\";\nimport UserLoading from \"./pages/userLoading\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { displayName } from \"qrcode.react\";\nimport axios from \"axios\";\n//Pushing to master.\n\nexport default function App() {\n  const [access_token, setAccess_token] = useState();\n  const [roomKey, setRoomKey] = useState();\n  const [roomIp, setRoomIp] = useState();\n  const [display_name, setDisplayName] = useState();\n  const [id, setId] = useState();\n  const [followId, setFollowId] = useState();\n\n  function getHashParams() {\n    var hashParams = {};\n    var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n    e = r.exec(q);\n    while (e) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n      e = r.exec(q);\n    }\n    return hashParams;\n  }\n\n  useEffect(() => {\n    const hashParams = getHashParams();\n    setRoomKey(hashParams.roomKey);\n    setAccess_token(hashParams.access_token);\n  }, [roomKey, access_token]);\n\n\n  useEffect(() => {\n    if(access_token){\n      async function getUserData(){\n        var config = {\n          method: \"get\",\n          url: \"https://api.spotify.com/v1/me\",\n          headers: {\n            Authorization: \"Bearer \" + access_token,\n          },\n        };\n        var data = await axios(config)\n        .then(function (response) {\n          return [response.data.display_name, response.data.id];\n        })\n        .catch(function (error) {\n          throw error; \n        });\n        console.log(data)\n        setDisplayName(data[0]);\n        setId(data[1]);\n      }\n \n      \n      getUserData();\n    }\n  }, [access_token]);\n\n\n  useEffect(() => {\n    if(access_token){\n      async function followUser(){\n        var config = {\n          method: \"put\",\n          url: \"https://api.spotify.com/v1/me/following\",\n          headers: {\n            Authorization: \"Bearer \" + access_token,\n          },\n        };\n        var data = await axios(config)\n        .then(function (response) {\n          return response.data.followId;\n        })\n        .catch(function (error) {\n          throw error; \n        });\n        console.log(data)\n        setFollowId(data);\n      }\n \n      \n      followUser();\n    }\n  }, [access_token]);\n  \n\n  return (\n    <ThemeProvider\n      theme={createMuiTheme({\n        palette: {\n          type: \"dark\",\n          primary: { main: \"#121212\" },\n          secondary: { main: \"#1DB954\", contrastText: \"#FFFFFF\" },\n        },\n      })}\n    >\n      <Router>\n        {/* A <Switch> looks through its children <Route>s and\n              renders the first one that matches the current URL. */}\n        <Switch>\n          <Route path=\"/hostroom\">\n            <Hostroom access_token={access_token} roomKey={roomKey} display_name={display_name} roomIp={roomIp} setRoomIp={setRoomIp} id={id} followId={followId}/>\n          </Route>\n          <Route path=\"/loading\">\n            <Loading access_token={access_token} roomKey={roomKey} display_name={display_name} roomIp={roomIp} setRoomIp={setRoomIp} id={id} followId={followId}/>\n          </Route>\n          <Route path=\"/UserLoading\">\n            <UserLoading access_token={access_token} roomKey={roomKey} display_name={display_name} roomIp={roomIp} setRoomIp={setRoomIp} id={id} followId={followId}/>\n          </Route>\n          <Route path=\"/userroom\">\n            <Userroom access_token={access_token} roomKey={roomKey} display_name={display_name} roomIp={roomIp} setRoomIp={setRoomIp} id={id} followId={followId}/>\n          </Route>\n          <Route path=\"/\">\n            <Landing access_token={access_token} roomKey={roomKey} roomIp={roomIp}/>\n          </Route>\n        </Switch>\n      </Router>\n    </ThemeProvider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./dataHandler/store/store\";\nimport App from \"./app\";\n\nReactDOM.render(\n  <Provider store={configureStore}>\n    <App/>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}